var $=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function k(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function C(t){if(t.__esModule)return t;var i=t.default;if(typeof i=="function"){var e=function n(){return this instanceof n?Reflect.construct(i,arguments,this.constructor):i.apply(this,arguments)};e.prototype=i.prototype}else e={};return Object.defineProperty(e,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var c=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,c.get?c:{enumerable:!0,get:function(){return t[n]}})}),e}var o={};Object.defineProperty(o,"__esModule",{value:!0});o.parse=O;o.serialize=j;const w=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,x=/^[\u0021-\u003A\u003C-\u007E]*$/,b=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,E=/^[\u0020-\u003A\u003D-\u007E]*$/,S=Object.prototype.toString,v=(()=>{const t=function(){};return t.prototype=Object.create(null),t})();function O(t,i){const e=new v,n=t.length;if(n<2)return e;const c=(i==null?void 0:i.decode)||I;let r=0;do{const a=t.indexOf("=",r);if(a===-1)break;const d=t.indexOf(";",r),u=d===-1?n:d;if(a>u){r=t.lastIndexOf(";",a-1)+1;continue}const f=y(t,r,a),h=m(t,a,f),l=t.slice(f,h);if(e[l]===void 0){let s=y(t,a+1,u),p=m(t,u,s);const g=c(t.slice(s,p));e[l]=g}r=u+1}while(r<n);return e}function y(t,i,e){do{const n=t.charCodeAt(i);if(n!==32&&n!==9)return i}while(++i<e);return e}function m(t,i,e){for(;i>e;){const n=t.charCodeAt(--i);if(n!==32&&n!==9)return i+1}return e}function j(t,i,e){const n=(e==null?void 0:e.encode)||encodeURIComponent;if(!w.test(t))throw new TypeError(`argument name is invalid: ${t}`);const c=n(i);if(!x.test(c))throw new TypeError(`argument val is invalid: ${i}`);let r=t+"="+c;if(!e)return r;if(e.maxAge!==void 0){if(!Number.isInteger(e.maxAge))throw new TypeError(`option maxAge is invalid: ${e.maxAge}`);r+="; Max-Age="+e.maxAge}if(e.domain){if(!b.test(e.domain))throw new TypeError(`option domain is invalid: ${e.domain}`);r+="; Domain="+e.domain}if(e.path){if(!E.test(e.path))throw new TypeError(`option path is invalid: ${e.path}`);r+="; Path="+e.path}if(e.expires){if(!A(e.expires)||!Number.isFinite(e.expires.valueOf()))throw new TypeError(`option expires is invalid: ${e.expires}`);r+="; Expires="+e.expires.toUTCString()}if(e.httpOnly&&(r+="; HttpOnly"),e.secure&&(r+="; Secure"),e.partitioned&&(r+="; Partitioned"),e.priority)switch(typeof e.priority=="string"?e.priority.toLowerCase():void 0){case"low":r+="; Priority=Low";break;case"medium":r+="; Priority=Medium";break;case"high":r+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${e.priority}`)}if(e.sameSite)switch(typeof e.sameSite=="string"?e.sameSite.toLowerCase():e.sameSite){case!0:case"strict":r+="; SameSite=Strict";break;case"lax":r+="; SameSite=Lax";break;case"none":r+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${e.sameSite}`)}return r}function I(t){if(t.indexOf("%")===-1)return t;try{return decodeURIComponent(t)}catch{return t}}function A(t){return S.call(t)==="[object Date]"}export{C as a,$ as c,k as g};
